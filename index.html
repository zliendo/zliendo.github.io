<!DOCTYPE html>
<html lang="en">

  <head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>IDANN Triage</title>

    <!-- Bootstrap core CSS -->
    <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom fonts for this template -->
    <link href="vendor/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css">
    <link href='https://fonts.googleapis.com/css?family=Kaushan+Script' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Roboto+Slab:400,100,300,700' rel='stylesheet' type='text/css'>

    <!-- Custom styles for this template -->
    <link href="css/agency.css" rel="stylesheet">

  </head>

  <body id="page-top">

    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark fixed-top" id="mainNav">
      <div class="container">
	     <!-- <a class="nav-item nav-link js-scroll-trigger" href="#page-top">IDANN Triage</a>-->
        <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
          Menu
          <i class="fa fa-bars"></i>
        </button>
        <div class="collapse navbar-collapse" id="navbarResponsive">
          <ul class="navbar-nav text-uppercase ml-auto">	
			
			 <li class="nav-item">
              <a class="nav-link js-scroll-trigger" href="#page-top">Home</a>
            </li>  
			<li class="nav-item">
              <a class="nav-link js-scroll-trigger" href="#challenge">Challenge</a>
            </li>
		  
            <li class="nav-item">
              <a class="nav-link js-scroll-trigger" href="#product">Product</a>
            </li>
            <li class="nav-item">
              <a class="nav-link js-scroll-trigger" href="#model">Model</a>
            </li>
			
			<li class="nav-item">
              <a class="nav-link js-scroll-trigger" href="#esi">ESI</a>
            </li>
			
			<li class="nav-item">
              <a class="nav-link js-scroll-trigger" href="#apis">APIs</a>
            </li>
			
			<li class="nav-item">
              <a class="nav-link js-scroll-trigger" href="#roadmap">Roadmap</a>
            </li>

            <li class="nav-item">
              <a class="nav-link js-scroll-trigger" href="#team">Team</a>
            </li>

          </ul>
        </div>
      </div>
    </nav>

    <!-- Header -->
    <header class="masthead">

      <div class="container">
        <div class="intro-text ">
		
		 <div class="row">	
		   <div class="col-md-3">
             <!--<img src = "img/ersign.jpg" width="320" height="225" class = "rounded"></img>-->
			 <img src = "img/ersign.jpg" width="256" height="180" class = "rounded"></img>
		   </div> 			
			<div class="col-md-9">
		    </div>	
		 </div>
		 
		 <div class="row">
		  <div class="intro-heading service-heading  col-md-8 "><br/>		  
		       <span class="text-danger" >IDANN Triage</span>		    
			<div class="col-md-4">
		    </div>			  
		 </div> 
		 </div>
		 
		 <div class="row">
			<div class=" col-md-6 ">
		 	   <p class="intro-ttext">
			   		 Improving Emergency Triage through  </br> 
					 interpretable deep attention neural networks</br>
					 to predict critical patient outcomes and resources. </span>
				</p>
			</div>
			<div class="col-md-4">
		    </div>			  
		 </div>
		 
		</div>
      </div>
	
    </header>
	
   <!-- <section id="overview">
      <div class="container">
        <div class="row">
		 <div class="col-lg-12 text-center">
		 IDANN Triage utilizes interpretable deep neural networks with attention to predict critical 
		 patient outcomes and resources, aiding emergency departments with patient prioritization.
	     </div>
		</div>	 
	</div>
    </section> -->
	
	<!-- Challenge -->
   <section id="challenge">
   
    </section>

    <!-- Product -->
    <section id="product">
      <div class="container">
        <div class="row">
          <div class="col-lg-12 text-center">
            <h2 class="section-heading text-uppercase bg-light">Product</h2>
            <h3 class="section-subheading text-muted">Decrease fatalities and improve outcomes by assisting triage nurses to avoid errors in categorization.</h3>
          </div>
        </div>
		
	
		
		
		  <div class="row text-center">
          <div class="col-md-6">
            <span class="fa-stack fa-4x">
              <i class="fa fa-circle fa-stack-2x text-primary"></i>
              <i class="fa fa-cogs fa-stack-1x fa-inverse"></i>
            </span>
                <h4 class="service-heading">Machine Learning Model</h4>
				<p class="text-muted">	IDANN Triage utilizes neural networks for its predictions and pairs 
				them with text embeddings and an attention layer for interpretability. 
				The model relies on data that ER nurses already collect during triage, 
				allowing nurses to leverage the collective wisdom of thousands 
				of emergency department cases, without disrupting the flow from triage assessment to ESI assignment. 
				This tool helps avoid triage miscategorization by using deep learning models to 
				jointly predict the risk of critical outcome and the resources needed for each patient</p>
			</div>
          <div class="col-md-6">
            <span class="fa-stack fa-4x">
              <i class="fa fa-circle fa-stack-2x text-primary"></i>
              <i class="fa fa-search-plus fa-stack-1x fa-inverse"></i>
            </span>
			   <h4 class="service-heading">Model Interpretability</h4>
				<p class="text-muted">Neural networks often outperform other types of models, especially with large datasets, 
				but can be hard for both data science experts and end-users to understand. 
				In medicine, it is especially important that end-users are able to take advantage 
				of machine learning tools in concert with their own expertise. 
				IDANN addresses this by including an attention layer, which ranks 
				the importance of the predictors and the embedded reasons for visit.
				</p>
			</div>
        </div>
		
		  <div class="row text-center">
          <div class="col-md-6">
            <span class="fa-stack fa-4x">
              <i class="fa fa-circle fa-stack-2x text-primary"></i>
              <i class="fa fa-bar-chart fa-stack-1x fa-inverse"></i>
            </span>
             <h4 class="service-heading">GUI Visualizations</h4>
				<p class="text-muted">IDANN uses intuitive visualizations to provide concise, easy-to-follow explanations 
				of the model’s recommendation. With these visualizations, care providers can gain 
				confidence in IDANN's predictions, and weigh the relative impact of different predictors for each patient. 
				These visualizations are made possible by the inclusion of the attention layer.</p>
			</div>
          <div class="col-md-6">
            <span class="fa-stack fa-4x">
              <i class="fa fa-circle fa-stack-2x text-primary"></i>
              <i class="fa fa-share-alt fa-stack-1x fa-inverse"></i>
            </span>
            <h4 class="service-heading">API Service</h4>
			<p class="text-muted">IDANN Triage can be embedded in other applications via REST API. 
			This standard-based and FHIR-compliant service ensures seamless integration with electronic medical record applications. 
			IDANN visualizations can be also embedded on EHR web pages via a Javascript API.</p>

			</div>
        </div>
		
	  		 
		
		 
		 
	  
      
      </div>
    </section>
	

    <!-- Data Sources -->
    <section id="model">
      <div class="container">
        <div class="row">
          <div class="col-lg-12 text-center">
            <h2 class="section-heading text-uppercase bg-light">Model</h2>
            </div>
        </div>
		  <div class="row">
          <div class="col-md-12">
            <h4 class="service-heading">Data Sources</h4>
            <p class="text-muted">
			
			
			
			
            Our modeling data is drawn from the <a href="https://www.cdc.gov/nchs/ahcd/index.htm">National Hospital Ambulatory Medical Care 
			Survey (NHAMCS)</a>, collected by the Centers for Disease Control (CDC). 
			
			The data represented therein are comprised of de-identified health records from 1992-2015, 
			drawn from a national sample of visits to emergency departments, about 24K records a year.
			
			
			The data are part of routine ED data collection, so any ED could provide the same fields.
			
			
			An independent investigation of the dataset 
			by <a href="https://www.ncbi.nlm.nih.gov/pubmed/27133736">Dugas et al. (2016) </a>
			found the data to be complete and representative sample 
			of <a href="https://www.cdc.gov/nchs/fastats/emergency-department.htm">141.4 million visits per year</a>. 
			We based our exclusion categories on the categories outlined in Dugas et al.</p>


          </div>  
		</div>
		
	
		  <!-- Data Items and Feature Engineering-->
		<div class="row ">
	      <div class="col-md-12">
            <h4 class="service-heading">Feature Engineering</h4>
      
          </div>	
         </div>
		 
		 <div class="row">
		 <div class="col-md-1">
		 </div>
          <div class="col-md-10">
			 <img src = "img/model_data_elements.jpg"  class = "rounded img-fluid"></img></br>
			 </br>
			</div>
		 <div class="col-md-1">
		 </div>			
		 </div>
		 

		 <div class="row ">
          <div class="col-md-12">
            <p class="text-muted">Vital signs are categorized by known thresholds of danger, 
			and normalized due to different scales of measurement. We also grouped the reasons for ED visit (RFV) 
			into categories that indicate some complaints that are known to be dangerous or high-priority. 
			These thresholds and categories were based on the descriptions provided in Dugas et al., “An Electronic Emergency Triage System 
			to Improve Patient Distribution by Critical Outcomes”, 2016. 
			In addition to the features suggested by Degas et al., we included flags for diabetes, 
			chronic heart failure, the patient’s metropolitan area, and additional usage of the RFV codes.
 
			
			
			</p>
          </div>
		  </div>	
			
		  <div class="row ">
		      <div class="col-md-4 ">   
                <img src = "img/RFV.jpg"  class = "rounded img-fluid"></img>	</br>
			
		  </div>
          <div class="col-md-8">
		 
		  <h5> Reasons for Visit (RFV) Codes as vectors and embeddings </h5>
		   <p class="text-muted">
						 		
			 A key feature of the RFV codes was that they have a hierarchical coded arrangement; 
			 we transformed them into vectors in order to capture that hierarchy. 
			 We additionally translated the RFV codes into their text form, and created text embeddings in order to capture the semantic 
			 similarities between complaints that would be obvious to a nurse.	 </p>			 
			

          </div>      
         </div>
		 &nbsp;</br>
		     <h5>Outcome Variables </h5>
		       <p class="text-muted">To calculate the Critical Outcome variable, we collapsed several patient outcomes into one binary variable: 
			any patient an outcome of death, admittance to ICU, OR, or cardiac catheterization, was considered to have experienced a 
			critical outcome. This represented about 7.1% of the total dataset, which we accounted for with weighted modeling techniques.</p>
			 <p class="text-muted">
			To calculate Resources, in alignment with the definition outline by the ESI, we calculated the total resources required for each patient,
			among diagnostic methods and procedures available in the dataset. Ultimately, this resulted in patients requiring 0, 1, or ≥2 resources.</p>
		 
		 
		  
		  <!-- Machine Learning Methods -->
		 <div class="row ">
              <div class="col-md-12 text-center">
            <h4 class="service-heading">Machine Learning Methods</h4>
			</br>
			

				
          </div>	  
			 
          </div>	

			<div class="row">
          <div class="col-lg-12">
            <ul class="timeline">
              <li>
                <div class="timeline-image">
                  <img class="rounded-circle img-fluid" src="img/models/LR.png" alt="">
                </div>
                <div class="timeline-panel">
                  <div class="timeline-heading">                   
                    <h5 class="subheading">Baseline Model: Logistic Regression (LR)</h5>
                  </div>
                  <div class="timeline-body">		
           
						<p class="text-muted"> Our baseline  was the replication of the Logistic Regression model implemented by 
						<a href="https://www.ncbi.nlm.nih.gov/pubmed/27133736">Dugas et al. (2016) </a>, 
						which uses the same data source (CDC) we are using in our model. We replicated features and matched 
						the AUC ROC reported, which allowed us to confirm we are using the correct fields from the CDC files. </p>
                  </div>
                </div>
              </li>
			 <li class="timeline-inverted">
                <div class="timeline-image">
                  <img class="rounded-circle img-fluid" src="img/models/RFV.png" alt="">
                </div>
                <div class="timeline-panel">
                  <div class="timeline-heading">
                    <h5 class="subheading">LR with Additional Features</h5>
                  </div>
                  <div class="timeline-body">
                    		     <p class="text-muted">
			 The next step was adding features that we thought would improve the model performance, features like the   
			 Reason for Visit (RFV) codes as vectors and some patient medical history available during triage. The LR model performance improved. 
			   			 
			  </p>
			  </div>
                </div>
              </li>
			  
			
              <li>
                <div class="timeline-image">
                  <img class="rounded-circle img-fluid" src="img/models/RF.png" alt="">
                </div>
                <div class="timeline-panel">
                  <div class="timeline-heading">                   
                    <h5 class="subheading">Random Forest (RF)</h5>
                  </div>
                  <div class="timeline-body">		
           
						<p class="text-muted"> We also implemented a Random forest (RF) model which provides a list of feature importance, 
			 relevant for model interpretation. However its performance was lower than the LR model. </p>
                  </div>
                </div>
              </li>
			  
			 <li class="timeline-inverted">
                <div class="timeline-image">
                  <img class="rounded-circle img-fluid" src="img/models/FNN.png" alt="">
                </div>
                <div class="timeline-panel">
                  <div class="timeline-heading">
                    <h5 class="subheading">Forward Neural Network (FNN)</h5>
                  </div>
                  <div class="timeline-body">
         		  <p class="text-muted">
				  			 Considering that medical data is not linearly separable and LR cannot handle non-linearities, 
			 we implemented Deep Neural Networks; which could perform better with enough data for training.
			  We started with a Forward Neural Network, feeding the same features used by the LR model 
			  and indeed its performance was higher. We implemented NN models using Keras with Tensorflow as the backend 
			  in a Google Cloud Platform

			  </p>
			  
			  </div>
                </div>
              </li>
			  
			         <li>
                <div class="timeline-image">
                  <img class="rounded-circle img-fluid" src="img/models/embeddings.png" alt="">
                </div>
                <div class="timeline-panel">
                  <div class="timeline-heading">                   
                    <h5 class="subheading">FNN with Embeddings for RFV text</h5>
                  </div>
                  <div class="timeline-body">	
	
			  <p class="text-muted">
				Our next model was a FNN that trained embeddings for the Reason for Visit (RFV) textual descriptions, along with the normalized numerical features. This model performed better than all previous models.
			  </p>
                  </div>
                </div>
              </li>
			  
			 <li class="timeline-inverted">
                <div class="timeline-image">
                  <img class="rounded-circle img-fluid" src="img/models/att.jpg" alt="">
                </div>
                <div class="timeline-panel">
                  <div class="timeline-heading">
                    <h5 class="subheading">Attention Layer for Model Interpretation</h5>
                  </div>
                  <div class="timeline-body">
     			  <p class="text-muted"> 
				  Interpretability of our FNN model is essential for its adoption by healthcare communities. 
				  Therefore we implemented a feature attribution system determined by an entry Attention Layer in our FNN. 
				  We were inspired by recent studies on healthcare DNN models like  
				  <a href="https://arxiv.org/abs/1801.07860" > Google, Rajkomar et al.</a>  (Jan 2018),
				  and  <a href="https://dl.acm.org/citation.cfm?id=3107445">Georgia Tech, Sha et al.</a>  (Aug 2017).  
				  Keras/Tensorflow didn't have an attention layer ready to use, then we implemented one for our model based on formulas 
				  explained  at <a href="https://arxiv.org/abs/1512.08756" >Raffel et al. </a>. The attention layer learns to determine a set 
				  of weights that represent the relative importance of each feature on a specific record prediction. 
				  The resulting model not only became interpretable but also gain in performance!.
				  
				   <!-- All features were translated to hidden vectors with
				  with the same dimensionality before they entered the attention layer. Then  -->
			  
			  </p>
			  
			  </div>
                </div>
              </li>
			         <li>
                <div class="timeline-image">
                  <img class="rounded-circle img-fluid" src="img/models/att3.jpg" alt="">
                </div>
                <div class="timeline-panel">
                  <div class="timeline-heading">                   
                    <h5 class="subheading">Pulling Attention Weights </br>During Prediction</h5>
                  </div>
                  <div class="timeline-body">	
	
			  <p class="text-muted">
			  Whenever the model predicts outcomes for an input record, the model assigns the corresponding attention weights to each feature.
			  We implemented a module to pull these weights from the just executed model and join them with the feature list and input values.


			  </p>
                  </div>
                </div>
              </li>
			  			 <li class="timeline-inverted">
                <div class="timeline-image">
                  <img class="rounded-circle img-fluid" src="img/models/att_icon.png" alt="">
                </div>
                <div class="timeline-panel">
                  <div class="timeline-heading">
                    <h5 class="subheading">Model Interpretability</h5>
                  </div>
                  <div class="timeline-body">
     			  <p class="text-muted"> As a result, the FNN model not only provides the predicted probability  
					but also an attention weight for each feature that allow us to sort them by order of influence on the predicted result.
			  </p>
			  
			  </div>
                </div>
              </li>
				       
            </ul>
          </div>
        </div>
		
		
		<div class="row ">
              <div class="col-md-12 ">
			<p class="text-muted"> The following hyper-parameters were tuned during training:
			L2 regularizations, number of layers and hidden units in the NN models, #epochs, optimizers and embedding size.
			The nadam optimizer was used to handle plateaus which our models run into during stochastic gradient descent. 
			Because the data is imbalance, with most of the samples not resulting on a 
			critical outcome, we used the class_weight option in all our models to handle this situation.
			</p>
			<br/>
          </div>
        </div>
		<!-- ML Model Performance Results -->
		<div class="row ">
              <div class="col-md-12 ">
            <h5 class="service-heading text-center ">ML Model Performance Results</h5>
			<p class="text-muted">All our models were evaluated using a 10-fold cross validation and the area 
			under receiver-operator characteristic curve (AUC ROC) metric to compare results with previous papers on predicting critical outcomes
			based on Electronic Health Records (EHR) data. </p>
			<br/>
          </div>
        </div>			
       
		 
		 <div class="row ">
           <div class="col-md-1">
		   </div>
          <div class="col-md-10">
				<table id="model-roc" class="table table-striped text-muted border" style="font-size:16px">

				<thead>
				  <tr>
					<th >Model ID</th>				
					<th> Critical Outcomes Model</br>
					(data for 2009)</th>
					<th>AUC ROC </br>
					10-Fold Cross Validation</th>
				  </tr>
				</thead>
				<tbody>
				  <tr>
					<td>LR_BAS</td>					
					<td  > <span style="color: #043077;  font-weight: bold;" >Baseline Logistic Regression (LR)</span> </br>
					Matches published paper: <a href="https://www.ncbi.nlm.nih.gov/pubmed/27133736">Dugas et al. (2016) </a>  
					</td>
					<td  >
					<span class="roc-scores score-highlight"> 83.36% <span class="rwd-line">(+/- 0.02%)</span></span></td>
				  </tr>
				  	<tr>
					<td>LR_RMH</td>
					<td >LR_BAS + Additional Features </td>
					<td class=" roc-scores">83.93%   <span class="rwd-line">  (+/- 0.02%)</span></td>
				  </tr>
				  <tr>
					<td>RF</td>
					<td >Random Forest </br> Features of LR_RMH into a random forest </td>
					<td class=" roc-scores">81.15% <span class="rwd-line">(+/- 0.04%)</span></td>
				  </tr>
				  
				  <tr>
					<td>FNN</td>
					<td >Forward Neural Network </br> Features of LR_MH into a Neural Network </td>
					<td class=" roc-scores">85.49%   <span class="rwd-line">  (+/- 0.02%)</span></td>
				  </tr>
				  
				  <tr>
				  <td>FNN_TE</td>
					<td >FNN + Embedding for RVF text </td>
					<td class=" roc-scores">85.61% <span class="rwd-line">(+/- 1.36%)</span></td>
				  </tr>
				  
				  <tr>
				  <td >FNN_TE_ATT</td>
					<td style="color: #043077;  font-weight: bold;">Forward Neural Network </br> with Text Embeddings (FNN_TE) and Attention Layer</td>
					<td >
					<span class="roc-scores score-highlight">86.01% <span class="rwd-line">(+/- 0.01%)</span></span> </td>
				  </tr>
	

				</tbody>
			  </table>
			  

	

		  
         </div>
		     <div class="col-md-1">
		   </div>
		 
		</div>		
				<div class="row ">
              <div class="col-md-12">
			    <p class="text-muted">
			The Resource Utilization model used the same model architectures than the Critical Outcome models, 
			the difference was in the outcome variable
			</p>
 
          </div>
        </div>
		
		 
		 <div class="row ">
           <div class="col-md-1">
		   </div>
          <div class="col-md-10">
		  			  <table id="model-roc" class="table table-striped text-muted border" style="font-size:16px">

				<thead>
				  <tr>
					<th >Model ID</th>				
					<th> Resource Utilization Model
					</th>
					<th>AUC ROC </br>
					10 Fold Cross Validation</th>
				  </tr>
				</thead>
				<tbody>
				  <tr>
					<td>FNN_TEA_RS</td>					
					<td >Forward Neural Network </br> with Text Embeddings and the Attention Layer</td>
					<td style=" font-family:monospace;">NN.NN%<span class="rwd-line"> (+/- N.NN%)</span></td>
				  </tr>
			  		</tbody>
			  </table>
		  
		</div>
		     <div class="col-md-1">
		   </div>
		 
		</div>
		
		
    </section>	
	
	<!-- ESI Classification -->
    <section id="esi">
      <div class="container">
        <div class="row">
          <div class="col-lg-12 text-center">
            <h2 class="section-heading text-uppercase bg-light">ESI Classification</h2>		
	
            </div>
        </div>
		
		<div class="row">
          <div class="col-md-12">
		  	   <p class="text-muted">
			IDANN follows the official definition of ESI as closely as possible to ensure that its use conforms with established emergency department practices, 
			thus minimizing the implementation risk and allowing for faster deployment with minimal disruption.
				</p>	
		  </div>
        </div>
		
		<div class="row">
          <div class="col-md-6">
		  	   <p class="text-muted">
			Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aut eaque, 
			laboriosam veritatis, quos non quis ad perspiciatis, totam corporis ea, alias ut unde.
				</p>	
		  </div>
		    <div class="col-md-6">
		  	   <p class="text-muted">
                     (image here)
				</p>	
		  </div>
        </div>
		
		</div>
		 </section>	
		  
	
	    <!-- API -->
    <section id="apis">
      <div class="container">
	  
        <div class="row">
          <div class="col-lg-12 text-center">
            <h2 class="section-heading text-uppercase bg-light">Apis</h2>
          </div>
        </div>
		
	
		<div class="row">
          <div class="col-md-12">
		  	   <p class="text-muted">
			IDANN Triage provides an API service that can be used to leverage the models currently in use. 
			This allows the embedding into other applications via REST API. 
			This standard-based and FHIR-compliant service ensures seamless integration with electronic medical record applications. 
			IDANN visualizations can be also embedded on EHR web pages via a Javascript API.
			
			</p>
		  </div>
        </div>
		
		<div class="row">
          <div class="col-md-6">
		  	   <p class="text-muted">
				The data flow between the different components is as follows:</p>	
				<ul class="text-muted">
				<li>A client application makes a REST post and passes a JSON package with all relevant information to the Service API</li>
				<li>The API instantiates the predictor function with the appropriate models</li>
				<li>The predictor leverages the trained models to generate an ESI rating and associated metadata.</li>
				<li>This data is then passed back to the API service</li>
				<li>Ultimately the client application will leverage the ESI assignment and ... 
				(note: It would be good to mention here that the client application (EHR) receiving the JSON may decide to develop their own visualization
				to render the values on the JSON received, OR they can use the JS API that we provide, with visualizations ready to use ).</li>
                </ul>
				
		  </div>
		    <div class="col-md-6">
		  	   <p class="text-muted">
                     (image here)
				</p>	
		  </div>
        </div>

	    <!-- Demo -->		 
		 <div class="row">
          <div class="col-lg-12 ">
             <h3 class="service-heading text-center  ">Demo</h3>
          </div>
        </div>
				<div class="row">
	
          <div class="col-md-12">
		  			<h4 class="service-heading text-center  ">REST API</h4>
			 		  <table id="model-roc" class="table table-striped text-muted border" style="font-size:16px">

				<thead>
				  <tr>
					<th >JSON Request</th>				
					<th> JSON Response
					</th>
				  </tr>
				</thead>
				<tbody>
				  <tr>
					<td class="json-api">
					[{"VYEAR":2009,"VMONTH":1,"VDAYR":6,
					"AGE":69,"ARRTIME":412,
					"WAITTIME":17,"LOV":70,"RESIDNCE":1,
					"SEX":2,"ETHUN":2,"RACEUN":3,
					"ARREMS":1,"TEMPF":978,"PULSE":96,"RESPR":20,
					"BPSYS":146,"BPDIAS":71,
					"POPCT":98,"ONO2":2,
					"GCS":-9,"IMMEDR":2,"PAIN":0,.....

		
					</td>					
					<td class="json-api">
					{"co": 0.873719334602356, 
					"rss": 2, 
					"esi": 2, 
					"co_fi": [{"input_value": "1: by ambulance", "featureName": "arrival_model", "attention_weight": 0.023819265887141228}, 
					{"input_value": "1", "featureName": "Age_61_70_range", "attention_weight": 0.023092569783329964}, 
					{"input_value": "1", "featureName": "diabetes_indicator", "attention_weight": 0.021896006539463997}, 
					{"input_value": "1", "featureName": "Reason_Shortness_of_Breath", "attention_weight": 0.021488169208168983}, 
					{"input_value": "0", "featureName": "Age_18_30_range", "attention_weight": 0.018372077494859695}, 
					.....
					</td>

				  </tr>
			  		</tbody>
			  </table>
		  </div>
        </div>
		
		 <!-- JS API -->	
		<div class="row top-buffer ">
          <div class="col-md-2 top-buffer">

          </div>           
		 
          <div class="col-md-8 top-buffer ">		  
		  <br/>
		  <h4 class="service-heading text-center  ">JS API</h4>
		  <br/>
			 <!--<img src = "img/idann_viz.jpg"  class = "rounded img-fluid border-image "></img>	-->
			<!-- This is embedding the viz created by the JS API -->
			<iframe src="idannet/idannet.html" style="height:900px;width:800px;" id="idannet_frame" ></iframe>			 
			</br>	
			&nbsp;</br>	
			&nbsp;</br>	
			&nbsp;</br>				
			 
		</div>
		 <div class="col-md-2">
         </div>   		
		</div>	
		
		<div class="row top-buffer">
		<div class="col-md-2">
         </div> 
          <div class="col-md-4 ">
		   <p class="text-muted">
		  The most prominent visual displayed is the ESI rating recommended for the patient and its position in the ESI scale. 
		  Color coding ensures that the triage nurse is able to tell the risk category at a glance.
		  </p>

          </div> 

          <div class="col-md-4 ">
		  <img src = "img/gui1.png"  class = "rounded img-fluid "></img>	
          </div>   
		  <div class="col-md-2">
         </div> 
		</div>
		<div class="row ">
			  <div class="col-md-2">
         </div> 
          <div class="col-md-4 ">
		   <img src = "img/gui2.png"  class = "rounded img-fluid  "></img>	
          </div> 

          <div class="col-md-4 ">
		  <p class="text-muted">
		  The critical outcome is the single most important metric in determining the ESI, particularly for high-risk patients. 
		  IDANN provides a simple display of where a patient falls in the risk of critical outcomes.
		   </p>
          </div>  
	  <div class="col-md-2">
         </div> 		  
		</div>
		
		<div class="row ">
			  <div class="col-md-2">
         </div> 
          <div class="col-md-4 ">
		   <p class="text-muted">
		  IDANN will display the predictors that had the most impact in the decisions reached by the model. 
		  It is expected that this prioritization will give allow experienced practitioners to follow the logic of the recommendation by bringing emphasizing the most important 
		  features in a way they may be able to correlate with their clinical experience.
		   </p>
          </div> 

          <div class="col-md-4 ">
		   <img src = "img/gui3.png"  class = "rounded img-fluid  "></img>
          </div>   
		  	  <div class="col-md-2">
         </div> 
		</div>
		 
		 </div>
    </section>	
		
	
	<!-- Roadmap -->
    <section id="roadmap">
      <div class="container">
        <div class="row">
          <div class="col-lg-12 text-center">
            <h2 class="section-heading text-uppercase bg-light">Roadmap</h2>
            <h3 class="section-subheading text-muted">Lorem ipsum dolor sit amet consectetur.</h3>
          </div>
        </div>
	      </div>
    </section>	
		
 



    <!-- Team -->
    <section class="bg-light" id="team">
      <div class="container">
        <div class="row">
          <div class="col-lg-12 text-center">
            <h2 class="section-heading text-uppercase bg-light">Our Amazing Team</h2>
            <h3 class="section-subheading text-muted">Lorem ipsum dolor sit amet consectetur.</h3>
          </div>
        </div>

        <div class="row">
          <div class="col-lg-8 mx-auto text-center">
            <p class="large text-muted">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aut eaque, 
			laboriosam veritatis, quos non quis ad perspiciatis, totam corporis ea, alias ut unde.</p>
          </div>
        </div>
      </div>
    </section>

  


    <!-- Footer -->
    <footer>
      <div class="container">
        <div class="row">
          <div class="col-md-6">
            <span class="copyright">Copyright &copy; Your Website 2018</span>
          </div>
    
          <div class="col-md-6">
            <ul class="list-inline quicklinks">
              <li class="list-inline-item">
                <a href="#">Privacy Policy</a>
              </li>
              <li class="list-inline-item">
                <a href="#">Terms of Use</a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </footer>

  

    <!-- Bootstrap core JavaScript -->
    <script src="vendor/jquery/jquery.min.js"></script>
    <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

    <!-- Plugin JavaScript -->
    <script src="vendor/jquery-easing/jquery.easing.min.js"></script>

    <!-- Contact form JavaScript -->
    <script src="js/jqBootstrapValidation.js"></script>
    <script src="js/contact_me.js"></script>

    <!-- Custom scripts for this template -->
    <script src="js/agency.min.js"></script>
	
	<script src="idannet/js/client_idannet_v3.js"></script>
	
	<script>
		$(function(){
		   $('#challenge').load("challenge.html");
		   
		   
		   // here is the  rendering of the JSON data that follow the format
		   // input and output to the API service 
		  // this is an example for one patient 
		 // here the EHR web page will have the information for a patient
	        // for demo purposes, we read it from a file, but the EHR application would be making a JSON call to their own services 
		$.getJSON( "sample_data/sample_patient_input.txt", function( patient_data ) {
			patient_info = patient_data[0]	
				
			// here the EHR web page will make a remote  call to the IDANNET server, sending the patient_info JSON
			// and receiving a JSON with the prediction 
			// for just rendering the visualization layout, we call data from a file instead 
			// but the JSON call below can be replaced with a call to the server
			$.getJSON( "sample_data/sample_patient_result.txt", function( data ) {
				idannet_response = data;	
				link_idannet_frame();
				_sendMessage(patient_info, idannet_response)	;	  
			})
		
		})
		   
		   
		   
		});
	
	</script> 

  </body>

</html>
